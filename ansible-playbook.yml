-
  name: Test connectivity to target server
  hosts: target1 
  tasks: 
       - name: run the service defined in my_project's docker-compose.yml
         git:
            repo: https://github.com/DevOps-Pro1/example-voting-app.git
            dest: /example-voting-app
       - name: cd
         shell: |
          cd /example-voting-app
          ls
          pwd
          service docker restart
          apt update
          apt install curl
          curl -fsSL https://get.docker.com -o get-docker.sh
          sh get-docker.sh
         become: true
         register: out
       - debug: var=out.stdout_lines
       - name: docker compose
         shell: docker-compose -f /example-voting-app/docker-compose.yml up
         become: true
